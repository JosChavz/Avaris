import{A as l}from"./apexcharts.common.js";(async function(){const r=(t={expense:[],income:[]})=>(console.log("monthly summation",t),{series:[{name:"Expense",data:t.expense,color:"#1A56DB"},{name:"Income",data:t.income,color:"#54db1a"}],chart:{height:"100%",maxWidth:"100%",type:"area",fontFamily:"Inter, sans-serif",dropShadow:{enabled:!1},toolbar:{show:!1}},tooltip:{enabled:!0,x:{show:!1}},legend:{show:!0},fill:{type:"gradient",gradient:{opacityFrom:.55,opacityTo:0,shade:"#1C64F2",gradientToColors:["#1C64F2"]}},dataLabels:{enabled:!1},stroke:{width:6},grid:{show:!1,strokeDashArray:4,padding:{left:2,right:2,top:0}},xaxis:{show:!0,categories:["January","February","March","April","May","June","July","August","September","October","November","December"],labels:{show:!1},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{show:!0,labels:{formatter:function(i){return"$"+i}}}});if(document.getElementById("yearly-chart")&&typeof l<"u"){const t=new l(document.getElementById("yearly-chart"),r());await t.render(),(async()=>{const e=new Date;e.getFullYear();const s=[],a=[],m=async n=>{try{const o={},h=new Date,c=new URLSearchParams({month:n,year:h.getFullYear()}).toString(),u=`/api/transactions/sum?${c}`,d=await fetch(u),p=`/api/transactions/income?${c}`,y=await fetch(p);return o.expense=await d.json(),o.income=await y.json(),o}catch(o){console.error("Something went wrong. Defaulting to empty.",o)}};for(let n=0;n<=e.getMonth();n+=1)s.push(e.toLocaleString("default",{month:"long"})),a.push(m(n+1));return await Promise.all(a)})().then(e=>{const s={expense:e.map(a=>a.expense.transactions.total),income:e.map(a=>a.income.sum)};t.updateOptions(r(s))}).catch(e=>console.error(e))}})();
