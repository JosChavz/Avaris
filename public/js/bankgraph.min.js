import{A as l}from"./apexcharts.common.js";(async function(){const o=(e={"":0})=>{e=e.reduce(t=>t!="total");const s=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",trailingZeroDisplay:"stripIfInteger"}).format(t);return{series:Object.values(e).map(t=>parseFloat(t)),colors:["#1C64F2","#16BDCA","#FDBA8C","#E74694"],chart:{height:320,width:"100%",type:"donut"},stroke:{colors:["transparent"],lineCap:""},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontFamily:"Inter, sans-serif",offsetY:20},total:{showAlways:!0,show:!0,label:"Expenses",fontFamily:"Inter, sans-serif",formatter:t=>{const n=t.globals.seriesTotals.reduce((r,a)=>r+a,0);return s(n)}},value:{show:!0,fontFamily:"Inter, sans-serif",offsetY:-20,formatter:t=>s(t)}},size:"80%"}}},grid:{padding:{top:-2}},labels:Object.keys(e),dataLabels:{enabled:!1},legend:{position:"bottom",fontFamily:"Inter, sans-serif"},yaxis:{labels:{}},xaxis:{labels:{},axisTicks:{show:!1},axisBorder:{show:!1}}}};if(document.getElementById("donut-chart")&&typeof l<"u"){const e=new l(document.getElementById("donut-chart"),o());e.render();try{const s=new Date,n=new URLSearchParams({month:s.getMonth()+1,year:s.getFullYear()}).toString(),a=`/api/transactions/sum/${new URL(document.URL).pathname.split("/").slice(-1)[0]}?${n}`,i=await(await fetch(a)).json();Object.keys(i.transactions).length>0&&e.updateOptions(o(i.transactions))}catch(s){console.error("Something went wrong. Defaulting to empty.",s)}}})();
