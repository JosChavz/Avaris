import{A as l}from"./apexcharts.common.js";(async function(){const r=(s={"":0})=>{const e=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",trailingZeroDisplay:"stripIfInteger"}).format(t);return{series:Object.values(s).map(t=>parseFloat(t)),colors:["#1C64F2","#16BDCA","#FDBA8C","#E74694"],chart:{height:320,width:"100%",type:"donut"},stroke:{colors:["transparent"],lineCap:""},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontFamily:"Inter, sans-serif",offsetY:20},total:{showAlways:!0,show:!0,label:"Expenses",fontFamily:"Inter, sans-serif",formatter:t=>{const n=t.globals.seriesTotals.reduce((i,o)=>i+o,0);return e(n)}},value:{show:!0,fontFamily:"Inter, sans-serif",offsetY:-20,formatter:t=>e(t)}},size:"80%"}}},grid:{padding:{top:-2}},labels:Object.keys(s),dataLabels:{enabled:!1},legend:{position:"bottom",fontFamily:"Inter, sans-serif"},yaxis:{labels:{}},xaxis:{labels:{},axisTicks:{show:!1},axisBorder:{show:!1}}}};if(document.getElementById("donut-chart")&&typeof l<"u"){const s=new l(document.getElementById("donut-chart"),r());s.render();try{const e=new Date,n=new URLSearchParams({month:e.getMonth()+1,year:e.getFullYear()}).toString(),o=`/api/transactions/sum/${new URL(document.URL).pathname.split("/").slice(-1)[0]}?${n}`,a=await(await fetch(o)).json();Object.keys(a.transactions).length>0&&(delete a.transactions.total,console.log(a.transactions),s.updateOptions(r(a.transactions)))}catch(e){console.error("Something went wrong. Defaulting to empty.",e)}}})();
