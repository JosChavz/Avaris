import{A as o}from"./apexcharts.common.js";(async function(){const r=(e={})=>{const s=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",trailingZeroDisplay:"stripIfInteger"}).format(t);return{series:Object.values(e).map(t=>parseFloat(t)),colors:["#1C64F2","#16BDCA","#FDBA8C","#E74694"],chart:{height:320,width:"100%",type:"donut"},stroke:{colors:["transparent"],lineCap:""},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontFamily:"Inter, sans-serif",offsetY:20},total:{showAlways:!0,show:!0,label:"Expenses",fontFamily:"Inter, sans-serif",formatter:t=>{const n=t.globals.seriesTotals.reduce((a,i)=>a+i,0);return s(n)}},value:{show:!0,fontFamily:"Inter, sans-serif",offsetY:-20,formatter:t=>s(t)}},size:"80%"}}},grid:{padding:{top:-2}},labels:Object.keys(e),dataLabels:{enabled:!1},legend:{position:"bottom",fontFamily:"Inter, sans-serif"},yaxis:{labels:{}},xaxis:{labels:{},axisTicks:{show:!1},axisBorder:{show:!1}}}};if(document.getElementById("donut-chart")&&typeof o<"u"){const e=new o(document.getElementById("donut-chart"),r());e.render();let s={};try{const t=new URL(document.URL).pathname.split("/").slice(-1)[0];s=(await(await fetch("/api/transactions/sum/"+t)).json()).transactions}catch{console.error("Something went wrong. Defaulting to empty.",err)}e.updateOptions(r(s))}})();
