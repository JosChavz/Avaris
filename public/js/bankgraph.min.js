import{A as a}from"./apexcharts.common.js";(async function(){const o=(s={"":0})=>{const n=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",trailingZeroDisplay:"stripIfInteger"}).format(t);return{series:Object.values(s).map(t=>parseFloat(t)),colors:["#1C64F2","#16BDCA","#FDBA8C","#E74694"],chart:{height:320,width:"100%",type:"donut"},stroke:{colors:["transparent"],lineCap:""},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontFamily:"Inter, sans-serif",offsetY:20},total:{showAlways:!0,show:!0,label:"Expenses",fontFamily:"Inter, sans-serif",formatter:t=>{const e=t.globals.seriesTotals.reduce((r,i)=>r+i,0);return n(e)}},value:{show:!0,fontFamily:"Inter, sans-serif",offsetY:-20,formatter:t=>n(t)}},size:"80%"}}},grid:{padding:{top:-2}},labels:Object.keys(s),dataLabels:{enabled:!1},legend:{position:"bottom",fontFamily:"Inter, sans-serif"},yaxis:{labels:{}},xaxis:{labels:{},axisTicks:{show:!1},axisBorder:{show:!1}}}};if(document.getElementById("donut-chart")&&typeof a<"u"){const s=new a(document.getElementById("donut-chart"),o());s.render();try{const n=new URL(document.URL).pathname.split("/").slice(-1)[0],e=await(await fetch("/api/transactions/sum/"+n)).json();console.log(e.transactions),Object.keys(e.transactions).length>0&&s.updateOptions(o(e.transactions))}catch{console.error("Something went wrong. Defaulting to empty.",err)}}})();
